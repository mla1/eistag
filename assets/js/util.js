!function($){$.fn.navList=function(){var $this=$(this);return $a=$this.find("a"),b=[],$a.each(function(){var $this=$(this),indent=Math.max(0,$this.parents("li").length-1),href=$this.attr("href"),target=$this.attr("target");b.push('<a class="link depth-'+indent+'"'+(void 0!==target&&""!=target?' target="'+target+'"':"")+(void 0!==href&&""!=href?' href="'+href+'"':"")+'><span class="indent-'+indent+'"></span>'+$this.text()+"</a>")}),b.join("")},$.fn.panel=function(userConfig){if(0==this.length)return $this;if(1<this.length){for(var i=0;i<this.length;i++)$(this[i]).panel(userConfig);return $this}var $this=$(this),$body=$("body"),$window=$(window),id=$this.attr("id"),config=$.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:$this,visibleClass:"visible"},userConfig);return"jQuery"!=typeof config.target&&(config.target=$(config.target)),$this._hide=function(event){config.target.hasClass(config.visibleClass)&&(event&&(event.preventDefault(),event.stopPropagation()),config.target.removeClass(config.visibleClass),window.setTimeout(function(){config.resetScroll&&$this.scrollTop(0),config.resetForms&&$this.find("form").each(function(){this.reset()})},config.delay))},$this.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),config.hideOnClick&&($this.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),$this.on("click","a",function(event){var $a=$(this),href=$a.attr("href"),target=$a.attr("target");href&&"#"!=href&&""!=href&&href!="#"+id&&(event.preventDefault(),event.stopPropagation(),$this._hide(),window.setTimeout(function(){"_blank"==target?window.open(href):window.location.href=href},config.delay+10))})),$this.on("touchstart",function(event){$this.touchPosX=event.originalEvent.touches[0].pageX,$this.touchPosY=event.originalEvent.touches[0].pageY}),$this.on("touchmove",function(event){if(null!==$this.touchPosX&&null!==$this.touchPosY){var diffX=$this.touchPosX-event.originalEvent.touches[0].pageX,diffY=$this.touchPosY-event.originalEvent.touches[0].pageY,th=$this.outerHeight(),ts=$this.get(0).scrollHeight-$this.scrollTop();if(config.hideOnSwipe){var result=!1;switch(config.side){case"left":result=diffY<20&&-20<diffY&&50<diffX;break;case"right":result=diffY<20&&-20<diffY&&diffX<-50;break;case"top":result=diffX<20&&-20<diffX&&50<diffY;break;case"bottom":result=diffX<20&&-20<diffX&&diffY<-50}if(result)return $this.touchPosX=null,$this.touchPosY=null,$this._hide(),!1}($this.scrollTop()<0&&diffY<0||th-2<ts&&ts<th+2&&0<diffY)&&(event.preventDefault(),event.stopPropagation())}}),$this.on("click touchend touchstart touchmove",function(event){event.stopPropagation()}),$this.on("click",'a[href="#'+id+'"]',function(event){event.preventDefault(),event.stopPropagation(),config.target.removeClass(config.visibleClass)}),$body.on("click touchend",function(event){$this._hide(event)}),$body.on("click",'a[href="#'+id+'"]',function(event){event.preventDefault(),event.stopPropagation(),config.target.toggleClass(config.visibleClass)}),config.hideOnEscape&&$window.on("keydown",function(event){27==event.keyCode&&$this._hide(event)}),$this}}(jQuery);